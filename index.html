<!DOCTYPE html>
<html>
<head>
    <title>Viol Button</title>
    <style>
        #violButton {
            font-size: 28px;
            padding: 24px 48px;
            background-color: #d32f2f;
            color: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
        }
        #violButton:hover {
            background-color: #b71c1c;
        }
    </style>
</head>
<body>

<button id="violButton">VIOL</button>

<script>
    document.getElementById('violButton').addEventListener('click', () => {
        const chat_id = prompt('Enter user chat_id:');
        const username = prompt('Enter username (without @):');

        if (!chat_id || !username) {
            alert('Both chat_id and username are required!');
            return;
        }

        fetch('/start_spam', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({chat_id: chat_id, username: username})
        })
        .then(res => res.json())
        .then(data => {
            if (data.status === 'started') alert('Spam started!');
            else if (data.status === 'already_running') alert('Spam is already running for this user.');
            else alert('Error starting spam.');
        })
        .catch(() => alert('Network error.'));
    });
</script>

</body>
</html>
